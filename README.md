# Лаб3: Синхронизация потоков

**Lab3Sync** — это многопоточная консольная программа на C++, моделирующая работу нескольких потоков-маркировщиков, которые помечают элементы общего массива. Каждый поток пытается пометить случайный элемент массива своим уникальным номером. Если элемент уже занят, поток блокируется до получения сигнала от пользователя. Программа позволяет управлять завершением работы потоков и наблюдать за изменениями состояния массива в реальном времени.

## Основные возможности

- Многопоточная работа с синхронизацией через критические секции (Windows API).
- Каждый поток помечает элементы массива своим номером, если элемент свободен.
- Если поток не может пометить элемент (он уже занят), он блокируется и ожидает решения пользователя.
- Пользователь может завершить работу любого потока, после чего все его метки в массиве очищаются.
- В любой момент можно завершить выполнение всех потоков.
- Встроенные юнит-тесты на GoogleTest для проверки основных функций.

### Запуск

#### Сборка
Для сборки проекта используйте следующие команды:

cmake --preset=vs2022-debug
cmake --build build/vs2022-debug

#### Запуск главной программы

Для запуска программы выполните команду:

.\build\vs2022-debug\src\Debug\Lab3Sync.exe

#### Запуск тестов

Для запуска юнит-тестов выполните команду:

.\build\vs2022-debug\tests\Debug\sync_tests.exe

## Как пользоваться программой

1. При запуске программа попросит ввести размер массива и количество потоков.
2. Каждый поток будет пытаться пометить случайный элемент массива своим номером.
3. Если поток не может пометить элемент, он блокируется.
4. В любой момент вы можете:

   * Ввести номер потока для завершения его работы (все его метки будут удалены из массива).
   * Ввести `0` для завершения работы всех потоков и выхода из программы.
5. После каждого действия выводится текущее состояние массива.
